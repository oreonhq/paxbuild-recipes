name: curl
version: 8.9.1
description: Command line tool and library for transferring data with URLs
license: curl
homepage: https://curl.se/
source_url: https://curl.se/download/curl-8.9.1.tar.xz
build:
  build_system: Autotools
  build_commands:
  - "# Ensure we use the correct libnghttp2 version\n# Check if pkg-config can find libnghttp2 >= 1.61.0\nif pkg-config --exists 'libnghttp2 >= 1.61.0'; then\n  NGHTTP2_PREFIX=$(pkg-config --variable=prefix libnghttp2 2>/dev/null || echo \"/usr\")\n  PKG_CONFIG_PATH=\"${PKG_CONFIG_PATH:-}:/usr/lib/pkgconfig:/usr/lib64/pkgconfig:${NGHTTP2_PREFIX}/lib/pkgconfig:${NGHTTP2_PREFIX}/lib64/pkgconfig\" \\\n  LDFLAGS=\"${LDFLAGS:-} -L${NGHTTP2_PREFIX}/lib64 -L${NGHTTP2_PREFIX}/lib -L/usr/lib64 -L/usr/lib\" \\\n  CPPFLAGS=\"${CPPFLAGS:-} -I${NGHTTP2_PREFIX}/include -I/usr/include\" \\\n  ./configure --prefix=/usr --with-openssl --with-zlib --with-nghttp2=${NGHTTP2_PREFIX}\nelse\n  # Fallback: try without nghttp2 if version is too old\n  echo \"Warning: libnghttp2 >= 1.61.0 not found, building without HTTP/2 support\"\n  ./configure --prefix=/usr --with-openssl --with-zlib --without-nghttp2\nfi"
  - make
dependencies:
  build_dependencies:
  - gcc
  - make
  - automake
  - cmake
  - libtool
  - pkgconf
  - perl
  host_dependencies:
  - zlib-devel
  - brotli-devel
  - libidn2-devel
  - libnghttp2-devel
  - libpsl-devel
  - libssh-devel
  - krb5-devel
  - openldap-devel
  - openssl-devel
  runtime_dependencies:
  - glibc
  - openssl
  - zlib
  - libidn2
  - libnghttp2
  - libunistring
bootstrap:
  enabled: false
changelog:
- version: 8.9.1
  date: '2026-01-03'
  author: Oreon Project Team
  email: packaging@oreonproject.org
  changes:
  - Initial package for Oreon 11
